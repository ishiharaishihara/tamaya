function! tamaya#content#new() abort
return [
            \[
            \   {'value':'                   ','isWord':0},
            \   {'value':'                   ','isWord':0},
            \   {'value':'                   ','isWord':0},
            \   {'value':'                   ','isWord':0},
            \   {'value':'                   ','isWord':0},
            \   {'value':'                   ','isWord':0},
            \   {'value':'                   ','isWord':0},
            \   {'value':'                   ','isWord':0},
            \   {'value':'                   ','isWord':0},
            \   {'value':'                   ','isWord':0},
            \   {'value':'                   ','isWord':0},
            \   {'value':'                   ','isWord':0},
            \   {'value':'           %s       ','isWord':1},
            \   {'value':'           :       ','isWord':0},
            \],
            \[
            \   {'value':'                   ','isWord':0},
            \   {'value':'                   ','isWord':0},
            \   {'value':'                   ','isWord':0},
            \   {'value':'                   ','isWord':0},
            \   {'value':'                   ','isWord':0},
            \   {'value':'                   ','isWord':0},
            \   {'value':'                   ','isWord':0},
            \   {'value':'                   ','isWord':0},
            \   {'value':'                   ','isWord':0},
            \   {'value':'                   ','isWord':0},
            \   {'value':'                   ','isWord':0},
            \   {'value':'           %s       ','isWord':1},
            \   {'value':'           ﾟ       ','isWord':0},
            \   {'value':'           :       ','isWord':0},
            \],
            \[
            \   {'value':'                   ','isWord':0},
            \   {'value':'                   ','isWord':0},
            \   {'value':'                   ','isWord':0},
            \   {'value':'                   ','isWord':0},
            \   {'value':'                   ','isWord':0},
            \   {'value':'                   ','isWord':0},
            \   {'value':'                   ','isWord':0},
            \   {'value':'                   ','isWord':0},
            \   {'value':'                   ','isWord':0},
            \   {'value':'                   ','isWord':0},
            \   {'value':'           %s       ','isWord':1},
            \   {'value':'          ：       ','isWord':0},
            \   {'value':'           ﾟ       ','isWord':0},
            \   {'value':'           :       ','isWord':0},
            \],
            \[
            \   {'value':'                   ','isWord':0},
            \   {'value':'                   ','isWord':0},
            \   {'value':'                   ','isWord':0},
            \   {'value':'                   ','isWord':0},
            \   {'value':'                   ','isWord':0},
            \   {'value':'                   ','isWord':0},
            \   {'value':'                   ','isWord':0},
            \   {'value':'                   ','isWord':0},
            \   {'value':'                   ','isWord':0},
            \   {'value':'           %s       ','isWord':1},
            \   {'value':'          ｡ﾟ       ','isWord':0},
            \   {'value':'          ：       ','isWord':0},
            \   {'value':'           ﾟ       ','isWord':0},
            \   {'value':'           :       ','isWord':0},
            \],
            \[
            \   {'value':'                   ','isWord':0},
            \   {'value':'                   ','isWord':0},
            \   {'value':'                   ','isWord':0},
            \   {'value':'                   ','isWord':0},
            \   {'value':'                   ','isWord':0},
            \   {'value':'                   ','isWord':0},
            \   {'value':'                   ','isWord':0},
            \   {'value':'                   ','isWord':0},
            \   {'value':'            %s      ','isWord':1},
            \   {'value':'            :      ','isWord':0},
            \   {'value':'          ｡ﾟ       ','isWord':0},
            \   {'value':'          ：       ','isWord':0},
            \   {'value':'           ﾟ       ','isWord':0},
            \   {'value':'           :       ','isWord':0},
            \],
            \[
            \   {'value':'                   ','isWord':0},
            \   {'value':'                   ','isWord':0},
            \   {'value':'                   ','isWord':0},
            \   {'value':'                   ','isWord':0},
            \   {'value':'                   ','isWord':0},
            \   {'value':'                   ','isWord':0},
            \   {'value':'                   ','isWord':0},
            \   {'value':'           %s       ','isWord':1},
            \   {'value':'           ﾟ｡      ','isWord':0},
            \   {'value':'            :      ','isWord':0},
            \   {'value':'          ｡ﾟ       ','isWord':0},
            \   {'value':'          ：       ','isWord':0},
            \   {'value':'           ﾟ       ','isWord':0},
            \   {'value':'           :       ','isWord':0},
            \],
            \[
            \   {'value':'                   ','isWord':0},
            \   {'value':'                   ','isWord':0},
            \   {'value':'                   ','isWord':0},
            \   {'value':'                   ','isWord':0},
            \   {'value':'                   ','isWord':0},
            \   {'value':'                   ','isWord':0},
            \   {'value':'           %s       ','isWord':1},
            \   {'value':'           ｡       ','isWord':0},
            \   {'value':'           ﾟ｡      ','isWord':0},
            \   {'value':'            :      ','isWord':0},
            \   {'value':'          ｡ﾟ       ','isWord':0},
            \   {'value':'          ：       ','isWord':0},
            \   {'value':'           ﾟ       ','isWord':0},
            \   {'value':'           :       ','isWord':0},
            \],
            \[
            \   {'value':'      ｡☆･･＊｡      ','isWord':0},
            \   {'value':'     ｡+｡ﾟ｡｜｡°ﾟ｡   ','isWord':0},
            \   {'value':'    ＊ ｡＼：／｡ﾟ＊ ','isWord':0},
            \   {'value':'   :  ―‥ ☆%s‥― ☆ ＊ ','isWord':1},
            \   {'value':'    ☆｡ﾟ／：＼ﾟ｡＊  ','isWord':0},
            \   {'value':'     ﾟ｡･+ﾟ｜ﾟ。｡°  ','isWord':0},
            \   {'value':'       ﾟ＊･･☆ﾟ     ','isWord':0},
            \   {'value':'           ｡       ','isWord':0},
            \   {'value':'           ﾟ｡      ','isWord':0},
            \   {'value':'            :      ','isWord':0},
            \   {'value':'          ｡ﾟ       ','isWord':0},
            \   {'value':'          ：       ','isWord':0},
            \   {'value':'           ﾟ       ','isWord':0},
            \   {'value':'           :       ','isWord':0},
            \],
        \]
endfunction




function! tamaya#content#set(...) abort
    let l:contents = {"x":0,"y":0,"line":[],}
    let l:result = []
    

    if a:0 >= 1
        let l:contents = a:1
    endif

    for l:content in l:contents.line
        let l:lines = []
        for l:y in range(l:contents.y)
            call add(l:lines,'')
        endfor
        for l:c in l:content
            let l:line = l:c
            for l:x in range(l:contents.x)
                let l:line = ' ' . l:line
            endfor
            call add(l:lines,l:line)
        endfor
        call add(l:result,l:lines)
    endfor
    return l:result
endfunction

function! tamaya#content#animate(...) abort
    let l:contents = {"x":0,"y":0,"line":[]}
    let l:word = ' '

    if a:0 == 1
        let l:word = a:1
    elseif a:0 == 2
        let l:contents.x = a:1
        let l:contents.y = a:2
    endif
    for l:content in tamaya#content#new()
        let l:lines = []
        for l:c in l:content
            let l:line = ''
            for l:char in split(l:word,'\zs')
                if l:c.isWord
                    let l:line = l:line . printf(l:c.value,l:char)
                else
                    let l:line = l:line . l:c.value
                endif
            endfor
            call add(l:lines,l:line)
        endfor
        call add(l:contents.line,l:lines)
    endfor

    let l:result = tamaya#content#set(l:contents)

    for l:r in l:result
        call setline(1,l:r)
        sleep 300m
        redraw!
    endfor
endfunction
